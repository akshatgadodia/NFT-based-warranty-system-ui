(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[6],{210:function(e,t,n){"use strict";var a,r=n(214),s=n.n(r);if("undefined"!==typeof window&&"undefined"!==typeof window.ethereum)a=new s.a(window.ethereum);else{var i=new s.a.providers.HttpProvider("https://rinkeby.infura.io/v3/7333078d0ffd48d1b5b89d7309bd29fc");a=new s.a(i)}var u=a;t.a=new u.eth.Contract([{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_approved",type:"address"},{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_owner",type:"address"},{indexed:!0,internalType:"address",name:"_operator",type:"address"},{indexed:!1,internalType:"bool",name:"_approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burnByDeleting",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burnByTransfering",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_from",type:"address"},{indexed:!0,internalType:"address",name:"_to",type:"address"},{indexed:!0,internalType:"uint256",name:"_tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}],"0x58ea8A63C9cdE88E9C31A7Cd3741fcaaDe52d132")},221:function(e,t){},226:function(e,t){},228:function(e,t){},239:function(e,t){},240:function(e,t){},251:function(e,t){},252:function(e,t){},290:function(e,t){},292:function(e,t){},295:function(e,t){},301:function(e,t){},304:function(e,t){},306:function(e,t){},324:function(e,t,n){},625:function(e,t,n){"use strict";n.r(t);var a=n(175),r=n(213),s=n(7),i=n(0),u=(n(324),n(210)),p=n(36),d=n(603),o=n.n(d),l=n(1);t.default=function(){var e=Object(p.c)((function(e){return e.slice.account})),t=Object(i.useState)(!1),n=Object(s.a)(t,2),d=n[0],c=n[1],y=Object(i.useState)(""),b=Object(s.a)(y,2),m=b[0],j=b[1],f=Object(i.useState)(""),x=Object(s.a)(f,2),O=x[0],h=x[1],v=Object(i.useState)(""),T=Object(s.a)(v,2),g=T[0],w=T[1],k=Object(i.useState)(""),N=Object(s.a)(k,2),M=N[0],I=N[1],A=Object(i.useState)(""),C=Object(s.a)(A,2),F=C[0],S=C[1],_=Object(i.useState)(""),E=Object(s.a)(_,2),B=E[0],D=E[1],P=Object(i.useState)(""),L=Object(s.a)(P,2),q=L[0],U=L[1],W=Object(i.useState)(""),J=Object(s.a)(W,2),H=J[0],R=J[1],z=function(){var t=Object(r.a)(Object(a.a)().mark((function t(n){var r,s,i,p,d;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),c(!0),null!==e){t.next=6;break}alert("Please connect your metamask wallet first"),t.next=40;break;case 6:if(""!==q){t.next=10;break}alert("Buyer Metamask Address can't be null"),t.next=40;break;case 10:return r=!1,t.prev=11,s={description:"This is a Warranty Card",image:"ipfs://QmWvHbUYRZEUr4hx617nBiCsH2zrAGMBbLxJZEUpzwa6hh",name:"Warranty Card",attributes:[{trait_type:"Seller Name",value:m},{trait_type:"Product Name",value:g},{trait_type:"Brand Name",value:M},{trait_type:"Product Id",value:F},{trait_type:"Buyer Name",value:B},{trait_type:"Expiry Date",value:H},{trait_type:"Token Standard",value:"ERC721"}]},t.next=15,o.a.post("https://nft-based-warranty-system-serv.herokuapp.com/getIfpsUrl",{data:s});case 15:return i=t.sent,t.next=18,u.a.methods.safeMint(q,i.data.link).send({from:e});case 18:return p=t.sent,d=p.events.Transfer.returnValues._tokenId,r=!0,t.next=23,o.a.post("https://nft-based-warranty-system-serv.herokuapp.com/storeData",{data:{tokenID:d,warrantyExpireDate:H}});case 23:return t.next=25,fetch("https://nft-based-warranty-system-serv.herokuapp.com/sendMail",{method:"POST",body:JSON.stringify({tokenID:d,warrantyExpireDate:H,name:B,email:O,productName:g,productId:F,seller:m,brand:M}),headers:{"Content-type":"application/json; charset=UTF-8"}});case 25:alert("NFT create with ID ".concat(d," and mail has been sent to the receiver")),t.next=32;break;case 28:t.prev=28,t.t0=t.catch(11),console.log(t.t0),r?alert("NFT has been created but mail can't be send to the receiver"):alert("Some Error Occurred! Please check and try again");case 32:j(""),w(""),I(""),S(""),D(""),U(""),h(""),R("");case 40:c(!1);case 41:case"end":return t.stop()}}),t,null,[[11,28]])})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsx)("div",{className:"create",children:Object(l.jsxs)("div",{className:"create-div",children:[d&&Object(l.jsxs)("div",{className:"loading-spinner",children:[Object(l.jsx)("div",{className:"loading-spinner-shadow"}),Object(l.jsx)("div",{className:"loading-spinner-box"})]}),Object(l.jsx)("h2",{children:"Create NFT Warranty"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("div",{className:"create-form",children:Object(l.jsxs)("form",{onSubmit:z,children:[Object(l.jsx)("label",{htmlFor:"sellerName",children:"Seller Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",id:"sellerName",name:"sellerName",value:m,placeholder:"Seller Name",minLength:"1",required:!0,onChange:function(e){return j(e.target.value)}}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"productName",children:"Product Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",id:"productName",name:"productName",value:g,placeholder:"Product Name",onChange:function(e){return w(e.target.value)},minLength:"1",required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"brandName",children:"Brand Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",id:"brandName",name:"brandName",value:M,placeholder:"Brand Name",onChange:function(e){return I(e.target.value)},minLength:"1",required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"productId",children:"Product Id"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",id:"productId",name:"productId",value:F,placeholder:"Product Id",onChange:function(e){return S(e.target.value)},minLength:"1",required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"buyerName",children:"Buyer Name"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",id:"buyerName",name:"buyerName",value:B,placeholder:"Buyer Name",onChange:function(e){return D(e.target.value)},minLength:"1",required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"buyerMetamaskAddress",children:"Buyer Metamask Address"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"text",id:"buyerMetamaskAddress",name:"buyerMetamaskAddress",value:q,placeholder:"Buyer Metamask Address",onChange:function(e){return U(e.target.value)},minLength:"1",maxLength:"42",required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"buyerEmailAddress",children:"Buyer Email Address"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"email",id:"buyerEmailAddress",name:"buyerEmailAddress",value:O,placeholder:"Buyer Email Address",onChange:function(e){return h(e.target.value)},minLength:"1",required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("label",{htmlFor:"expiryDate",children:"Warranty Expiry Date"}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"date",id:"expiryDate",name:"expiryDate",value:H,placeholder:"Warranty Expiry Date",onChange:function(e){return R(e.target.value)},required:!0}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("input",{type:"submit",value:"Create"}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{}),Object(l.jsx)("br",{})]})})]})})}}}]);
//# sourceMappingURL=6.2417cb24.chunk.js.map